<%= render PageTitle::View.new(text: "Check your answers before sending your feedback") %>

<%= content_for(:breadcrumbs) do %>
  <%= render GovukComponent::BackLinkComponent.new(
    text: t("back"),
    href: new_feedback_path,
  ) %>
<% end %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds-from-desktop">
    <h1 class="govuk-heading-l">Check your answers before sending your feedback</h1>

    <%= govuk_summary_list do |summary_list|
      summary_list.with_row do |row|
        row.with_key(text: "Satisfaction")
        row.with_value(text: @feedback_form.satisfaction_level_text)
        row.with_action(href: new_feedback_path, text: "Change", visually_hidden_text: "satisfaction level")
      end

      summary_list.with_row do |row|
        row.with_key(text: "How could we improve this service?")
        row.with_value(text: @feedback_form.improvement_suggestion.presence || "Not entered")
        row.with_action(href: new_feedback_path, text: "Change", visually_hidden_text: "improvement suggestion")
      end

      summary_list.with_row do |row|
        row.with_key(text: "Name")
        row.with_value(text: @feedback_form.name.presence || "Not entered")
        row.with_action(href: new_feedback_path, text: "Change", visually_hidden_text: "name")
      end

      summary_list.with_row do |row|
        row.with_key(text: "Contact email")
        row.with_value(text: @feedback_form.email.presence || "Not entered")
        row.with_action(href: new_feedback_path, text: "Change", visually_hidden_text: "contact email")
      end
    end %>

    <%= register_form_with(url: feedback_check_path, method: :post) do |f| %>
      <%= f.govuk_submit "Send feedback" %>
    <% end %>

    <p class="govuk-body">
      <%= govuk_link_to("Cancel", root_path) %>
    </p>
  </div>
</div>
